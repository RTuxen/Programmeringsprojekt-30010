#include "display.h"

void initDisplay(uint8_t *buffer){
    init_spi_lcd();
    memset(buffer, 0x00, 512); // Sets eah eleen of the buffer to 0xAA
    lcd_push_buffer(buffer);
}

void lcd_write_string(uint8_t *buffer, char *text, uint8_t slice, uint8_t line){ //Antager slice [0,128] og line[0,3]
    uint8_t textlenght = strlens(text);
    int8_t i,j;
    int16_t k =slice+line*128-1;


    for (i = 0; i< textlenght; i++){
        for (j=0; j <= 4; j++){
            if (7*i+k+j >= 128*line+128) {
                break;
            }
            buffer[7*i+k+j]= character_data[text[i]-0x20][j];
        }
    }
    lcd_push_buffer(buffer);
}






/***************************/
/* LCD - Dreje h√•ndtag     */
/***************************/
   uint16_t val1, val2, val3;
   uint8_t buffer[512];
   char str1[30], str2[30];
   initADC();
   initDisplay(buffer);
   while (0) {
       val1 = readADC_pa0();
       val2 = readADC_pa1();
       sprintf(str1, "Value 1 = %4d", val1);
       sprintf(str2, "Value 2 = %4d", val2);
       sprintf(str3, "Value 3 = %4d", val3);


       lcd_write_string(buffer, "Level:", 1, 0);
       lcd_write_string(buffer, "Score:", 1, 1);
       lcd_write_string(buffer,"Lives":, 2, 2);
       lcd_write_string(buffer,"-------", 2, 3);
initADC();
   }
